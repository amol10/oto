<html>
    <head>
        <script type="text/javscript">
            function play() {
            var audio = new Audio("file://ding2.mp3");
            audio.play();
            }
            window.onload = play;
        </script>
        <script src="howler.js"></script>
        <script src="jquery-3.6.0.js"></script>
        <script src="bootstrap.min.js"></script>
        <link rel="stylesheet" href="bootstrap.min.css">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="sounds.json"></script>
        <script src="lib.js"></script>

    </head>
    <body>
        <!-- <Audio id="ding2" src="file://ding2.mp3"></Audio> -->
        <script>    
            //document.getElementById("ding2").play();
            /*function sleep (time) {
                return new Promise((resolve) => setTimeout(resolve, time));
            }
            //sleep(3).then(() => {
            function play2() {
            var audio = new Audio("ding2.mp3");
            audio.play();
            setTimeout(play2, 10000);
            }

            play2();
            /*while (true) {
                setTimeout(play2, 3000);
            }*/
            
        </script>

        <!-- <label for="ding2">
            <input type="checkbox" id="ding2" data="ding2.mp3" name="ding2"> ding2
        </label> -->

        
        <div id="controls">
            <input type="button" onclick="shutdown()" class="btn btn-primary btn-sm" id="shutdown" value="Shutdown">
            <input type="button" onclick="mute()" class="btn btn-primary btn-sm" id="mute" value="Mute">
            <input type="button" onclick="chaos()" class="btn btn-primary btn-sm" id="chaos" value="Chaos">
        </div>

        <br>

        <div id="sounds" class="form-check">
            <table id="sounds-table" class="table-borderless">

            </table>
        </div>

        <script>
            list_sounds();
        </script>
   
  
        <audio controls>
            <source src="sounds/misc/ding2.mp3" type="audio/mpeg">
        </audio>

        <br>
        
        <div id="performance">
            <table>
                <tr>
                    <td>jsHeapSizeLimit</td>
                    <td id="jsHeapSizeLimit"></td>
                </tr>
                <tr>
                    <td>totalJSHeapSize</td>
                    <td id="totalJSHeapSize"></td>
                </tr>
                <tr>
                    <td>usedJSHeapSize</td>
                    <td id="usedJSHeapSize"></td>
                </tr>
            </table>
            <!-- <label>jsHeapSizeLimit: </label>
            <p id="jsHeapSizeLimit"></p>
            <label>totalJSHeapSize: </label>
            <p id="totalJSHeapSize"></p>
            <label>usedJSHeapSize: </label>
            <p id="usedJSHeapSize"></p> -->
        </div>
        <script>
            var sound = new Howl({
            src: ['sounds/misc/ding2.mp3'],
            onplayerror: function() {
              sound.once('unlock', function() {
                sound.play();
              });
            }
          });
          
          sound.play();
        
        </script>


        <!-- <script>
            sleep(3).then(() => {
                var sound = new Howl({
                    src: ['ding2.mp3'],
                    autoplay: true
                });
            });
        </script> -->
          
          

    </body>
</html> 